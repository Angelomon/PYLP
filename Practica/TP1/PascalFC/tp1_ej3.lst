- Pascal-FC for IBM PC compatibles - 
- Compiler Version jc-0.9.40

G L Davies  &  A Burns, University of Bradford
J C Coppens, Universidad Católica de Córdoba

Compiler listing

    1     0 program tp1_ej3;
    2     0 
    3     0 process type pares (id : integer; cantidad : integer; limSuperior : integer);
    4     0         var
    5     0                 cant : integer; {cantidad de pares encontrados}
    6     0                 par : integer; {guardamos el numero aleatorio temporalmente}
    7     0         begin
    8     0                 Randomize;
    9     1                 cant := 0;
   10     4                 par := 0;
   11     7                 while cant < cantidad do
   12    11                 begin
   13    11                         par:=Random(limSuperior)+1;
   14    17                         if par mod 2 = 0 then
   15    23                         begin
   16    23                                 writeln( 'El proceso ', id, ' imprime ',par);
   17    32                                 cant := cant + 1;
   18    37                                 par:=0;
   19    40                         end;
   20    40                 end;
   21    41         end;
   22    42 var
   23    42         p1, p2, p3 : pares;
   24    42 begin
   25    42         cobegin
   26    43                 p1 (1, 5, 100) ;
   27    50                 p2 (2, 5, 40) ;
   28    57                 p3 (3, 10, 35);
   29    64         coend;
   30    65 end.


Symbol table

     link   object      type          ref  normal  lvl  adr  aux  name

 56    55   procedure   notyp           2    TRUE    0   42    0  _main
 57     0   variable    synch           0    TRUE    1    5    0  any
 58    57   type id     process         3    TRUE    1    0    0  pares
 59     0   variable    integer         0    TRUE    2    5    0  id
 60    59   variable    integer         0    TRUE    2    6    0  cantidad
 61    60   variable    integer         0    TRUE    2    7    0  limsuperior
 62    61   variable    integer         0    TRUE    2    8    0  cant
 63    62   variable    integer         0    TRUE    2    9    0  par
 64    58   variable    process         3    TRUE    1    5    0  p1
 65    64   variable    process         3    TRUE    1    6    0  p2
 66    65   variable    process         3    TRUE    1    7    0  p3

Generated P-code

    0     rndmiz        0         0 ; 7
    1     ldadr        2         8 ; 8
    2     ldcon.i      0         0 ; 9
    3     store.i      0         0 ; 9
    4     ldadr        2         9 ; 9
    5     ldcon.i      0         0 ; 10
    6     store.i      0         0 ; 10
    7     ldval.i      2         8 ; 11
    8     ldval.i      2         6 ; 11
    9     rellt.i      0         0 ; 11
   10     jmpiz        0        41 ; 11
   11     ldadr        2         9 ; 12
   12     ldval.i      2         7 ; 13
   13     stfun.i      0        19 ; 13
   14     ldcon.i      0         1 ; 13
   15     add  .i      0         0 ; 13
   16     store.i      0         0 ; 13
   17     ldval.i      2         9 ; 14
   18     ldcon.i      0         2 ; 14
   19     modop.i      0         0 ; 14
   20     ldcon.i      0         0 ; 14
   21     releq.i      0         0 ; 14
   22     jmpiz        0        40 ; 14
   23     ldcon.i      0        11 ; 16
   24     wrstr        0         0 ; 16
   25     ldval.i      2         5 ; 16
   26     wrval.i      0         0 ; 16
   27     ldcon.i      0         9 ; 16
   28     wrstr        0        11 ; 16
   29     ldval.i      2         9 ; 16
   30     wrval.i      0         0 ; 16
   31     wrlin        0         0 ; 16
   32     ldadr        2         8 ; 16
   33     ldval.i      2         8 ; 17
   34     ldcon.i      0         1 ; 17
   35     add  .i      0         0 ; 17
   36     store.i      0         0 ; 17
   37     ldadr        2         9 ; 17
   38     ldcon.i      0         0 ; 18
   39     store.i      0         0 ; 18
   40     jmp          0         7 ; 19
   41     rproc        1         0 ; 20
   42     cobeg        0         0 ; 23
   43     mrkst        1        58 ; 25
   44     ldadr        1         5 ; 25
   45     procv        0         0 ; 25
   46     ldcon.i      0         1 ; 26
   47     ldcon.i      0         5 ; 26
   48     ldcon.i      0       100 ; 26
   49     calls        1         7 ; 26
   50     mrkst        1        58 ; 26
   51     ldadr        1         6 ; 26
   52     procv        0         0 ; 26
   53     ldcon.i      0         2 ; 27
   54     ldcon.i      0         5 ; 27
   55     ldcon.i      0        40 ; 27
   56     calls        1         7 ; 27
   57     mrkst        1        58 ; 27
   58     ldadr        1         7 ; 27
   59     procv        0         0 ; 27
   60     ldcon.i      0         3 ; 28
   61     ldcon.i      0        10 ; 28
   62     ldcon.i      0        35 ; 28
   63     calls        1         7 ; 28
   64     coend        0         0 ; 28
   65     stop         0         0 ; 29
